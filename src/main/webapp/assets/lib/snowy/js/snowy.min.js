String.prototype.format=function(i){var a=this;if(0<arguments.length)if(1==arguments.length&&"object"==typeof i){for(var t in i)if(null!=i[t]){var n=new RegExp("({"+t+"})","g");a=a.replace(n,i[t])}}else for(var e=0;e<arguments.length;e++)if(null!=arguments[e]){n=new RegExp("({)"+e+"(})","g");a=a.replace(n,arguments[e])}return a},String.format=function(){if(0==arguments.length)return null;for(var i=arguments[0],a=1;a<arguments.length;a++){var t=new RegExp("\\{"+(a-1)+"\\}","gm");i=i.replace(t,arguments[a])}return i},window.console=window.console||function(){var i={};return i.log=i.warn=i.debug=i.info=i.error=i.time=i.dir=i.profile=i.clear=i.exception=i.trace=i.assert=function(){},i}();var __IsEmpty=function(i){return void 0===i||(null===i||(""===i||0===i.length))},__IsTrue=function(i){return!__IsEmpty(i)&&!0===i},__IsFalse=function(i){return!!__IsEmpty(i)||!1===i},__randomString=function(i){i=i||32;for(var a="_ABCD_EFGH_IJKLMN_OPQRSTUVWX_YZabcdefgh_ijklmnopqrstu_vwxyz01234_56789",t=a.length,n="",e=0;e<i;e++)n+=a.charAt(Math.floor(Math.random()*t));return n},xMode={primary:"primary",success:"success",info:"info",warning:"warning",danger:"danger"},xDisplay={block:"block",none:"none"},FormGroup=function(i){this.id=i};$.extend(FormGroup.prototype,{init:function(){return this}});var Modal=function(i){this.id=i};$.extend(Modal.prototype,{init:function(){return this}});var Panel=function(i){this.id={panel_id:i,heading_id:i+"_panel_heading",body_id:i+"_panel_body",footer_id:i+"_panel_footer"},this.class={xMode:"panel-default",display:{panel:"block",heading:"block",body:"block",footer:"block"}}};$.extend(Panel.prototype,{init:function(){var i=this;return i.create(i),i},setContextual:function(i){return this.class.xMode="panel-"+i,this},setHeading:function(i){var a=this;return $("#"+a.id.panel_id+" #"+a.id.heading_id).html(i),a},setBody:function(i){var a=this;return $("#"+a.id.panel_id+" #"+a.id.body_id).html(i),a},setFooter:function(i){var a=this;return $("#"+a.id.panel_id+" #"+a.id.footer_id).html(i),a},__setHide:function(i,a,t){__IsTrue(t)?(xDisplay.none,$(i).removeClass(xDisplay.block),$(i).addClass(xDisplay.none)):(xDisplay.block,$(i).removeClass(xDisplay.none),$(i).addClass(xDisplay.block))},hidePanel:function(){var i=this;i.__setHide("#"+i.id.panel_id,i.class.display.panel,!0)},hideHeading:function(){var i=this;i.__setHide("#"+i.id.panel_id+" #"+i.id.heading_id,i.class.display.panel,!0)},hideBody:function(){var i=this;i.__setHide("#"+i.id.panel_id+" #"+i.id.body_id,i.class.display.panel,!0)},hideFooter:function(){var i=this;i.__setHide("#"+i.id.panel_id+" #"+i.id.footer_id,i.class.display.panel,!0)},showPanel:function(){var i=this;i.__setHide("#"+i.id.panel_id,i.class.display.panel,!1)},showHeading:function(){var i=this;i.__setHide("#"+i.id.panel_id+" #"+i.id.heading_id,i.class.display.panel,!1)},showBody:function(){var i=this;i.__setHide("#"+i.id.panel_id+" #"+i.id.body_id,i.class.display.panel,!1)},showFooter:function(){var i=this;i.__setHide("#"+i.id.panel_id+" #"+i.id.footer_id,i.class.display.panel,!1)},create:function(i){var a=[];a.push(String.format("<div class='panel {0} {1}' id='{2}'>",i.class.xMode,i.class.display.heading,i.id.panel_id)),a.push(String.format("  <div class='panel-heading {0}' id='{1}'>",i.class.display.heading,i.id.heading_id)),a.push(String.format("  </div>")),a.push(String.format("  <div class='panel-body {0}' id='{1}'>",i.class.display.body,i.id.body_id)),a.push(String.format("  </div>")),a.push(String.format("   <div class='panel-footer {0}' id='{1}'>",i.class.display.footer,i.id.footer_id)),a.push(String.format("   </div>")),a.push(String.format("</div>")),$("#"+i.id.panel_id).html(a.join(""))}});var DataTable=function(i){this.id=i,this.component_id={btn_ctn_id:__randomString(32),search_ctn_id:__randomString(32),table_ctn_id:__randomString(32),pagination_ctn_id:__randomString(32),pagination:{pageSelect_id:__randomString(32),refresh_id:__randomString(32),pageSizeSelect_id:__randomString(32),totalItems_id:__randomString(32),gotoPage_id:__randomString(32)}},this.dataTablePara,this.dataTablePage={totalRow:0,pageNumber:1,totalPage:0,pageSize:10}};$.extend(DataTable.prototype,{init:function(i){var a=this;return a.dataTablePara=i,a.initHtmlFrame(),a.initTableBodyFrame(),a.initPaginationBodyFrame(),a.__loadData(),a.__fillTableThead(),a.__fillTableBody(),a.__fillTablePagination(),this},initHtmlFrame:function(){var i=this,a=[];a.push(String.format("<div class='col-sm-9' style='padding-left:0' id='{0}'></div>",i.component_id.btn_ctn_id)),a.push(String.format("<div class='col-sm-3' style='padding-left:0' id='{0}'></div>",i.component_id.search_ctn_id)),a.push(String.format("<div class='col-xs-12' style='padding-left:0' id='{0}'> </div>",i.component_id.table_ctn_id)),a.push(String.format("<div class='col-xs-12' style='padding-left:0' id='{0}'> </div>",i.component_id.pagination_ctn_id)),$("#"+i.id).html(a.join(""))},initTableBodyFrame:function(){var i=[];i.push(String.format("<table class='table table-striped table-bordered table-hover table-condensed' id='{0}'>",this.component_id.table_ctn_id)),i.push(String.format("    <thead><tr></tr></thead>")),i.push(String.format("<tbody></tbody>")),i.push(String.format("</table>")),$("#"+this.component_id.table_ctn_id).html(i.join(""))},__getTableCols:function(i){var a=this;if(!__IsEmpty(a.dataTablePara)){var t=a.dataTablePara.tableCols;if(__IsEmpty(t))a.dataTablePara.tableCols=void 0;else{var n=t[i];if(!__IsEmpty(t))return n;a.dataTablePara.tableCols[i]=void 0}}},__getTableConfig:function(i){if(!__IsEmpty(this.dataTablePara)){var a=this.dataTablePara.tableConfig;if(__IsEmpty(a))this.dataTablePara.tableConfig=void 0;else{var t=a[i];if(!__IsEmpty(t))return t;this.dataTablePara.tableConfig[i]=void 0}}},__isMultiSelect:function(){return __IsTrue(this.__getTableConfig("multiSelect"))},__isShowSelect:function(){return __IsTrue(this.__getTableConfig("showSelect"))},__fillTableThead:function(){var i=this.__getTableCols("theadCols");if(!__IsEmpty(i)){var a=[],t=__IsTrue(this.__isShowSelect())?"":"none";a.push(String.format("<th  class='{0}' style='width:30px'></th>",t));for(var n=0;n<i.length;n++){var e=i[n],o=__IsEmpty(e.title)?e.id:e.title,l=__IsEmpty(e.style)?"":e.style,s=__IsTrue(e.visible)?"":"none";a.push(String.format("<th class='{0}' style='{1}'>{2}</th>",s,l,o))}$("#"+this.component_id.table_ctn_id+" thead > tr ").html(a.join(""))}},__loadData:function(){var a=this,t=a.__getTableCols("tbodyCols");if(!__IsEmpty(t)&&"url"===t.mode){var i=t.url;$.ajax({type:"post",url:i,data:a.dataTablePage,cache:!1,async:!1,success:function(i){t.data=i,a.dataTablePage.totalRow=i.totalRow,a.dataTablePage.pageNumber=i.pageNumber,a.dataTablePage.totalPage=i.totalPage,a.dataTablePage.pageSize=i.pageSize}})}},__fillTableBody:function(){var i=this,a=[],t=i.__getTableCols("tbodyCols"),n=i.__getTableCols("theadCols");if(!(__IsEmpty(t)||__IsEmpty(n)||__IsEmpty(t.data)||__IsEmpty(t.data.rows))){for(var e=t.data.rows,o=__IsTrue(i.__isShowSelect())?"":"none",l=__IsTrue(i.__isMultiSelect())?"checkbox":"radio",s=0;s<e.length;s++){var r=e[s],d=__randomString(8),_=__randomString(32);r.randomKey=d,r[d]=_,a.push(String.format("<tr {0}='{1}'>",d,_)),a.push(String.format("<td  class='{0}' style='width:30px'><input type='{1}'></td>",o,l));for(var p=0;p<n.length;p++){var c=n[p],h=r[c.id],g=c.formatFunc,u=__IsEmpty(c.style)?"":c.style,f=__IsTrue(c.visible)?"":"none";h=__IsEmpty(g)?h:g(r),a.push(String.format("<td  class='{0}' style='{1}'>{2}</td>",f,u,h))}a.push("</tr>")}$("#"+i.component_id.table_ctn_id+" tbody ").html(a.join(""))}},__getPageSize:function(){var i="#"+this.component_id.pagination_ctn_id+" #"+this.component_id.pagination.pageSizeSelect_id;return $(i+" select").find("option:selected").text()},__reloadDataTable:function(i,a){var t=this;t.dataTablePage.pageSize=i,t.dataTablePage.pageNumber=a,t.__loadData(),t.__fillTableThead(),t.__fillTableBody(),t.__fillTablePagination()},___pageNumBindClick:function(t,i){$(i).children("li").each(function(){$(this).children("a").each(function(){$(this).click(function(){var i=$(this).parent().attr("page"),a=t.__getPageSize();t.__reloadDataTable(a,i)})})})},____fillTablePagination__pageSelect:function(){var i=this,a=[],t=i.__getTableCols("tbodyCols");if(!__IsEmpty(t)&&!__IsEmpty(t.data)){var n=t.data.totalPage,e=t.data.pageNumber,o=4<=e?e-3+1:1,l=5+(o=o+5<=n?o:n-5+1)<=n?5+o-1:n,s=1===e?"disabled":"",r=e===n?"disabled":"",d=1===e?"1":e-1,_=e===n?n:e+1;a.push(String.format("<li class='{0}' page='{1}'><a >&lt;&lt;</a></li>",s,"1")),a.push(String.format("<li class='{0}' page='{1}'><a > &lt; </a></li>",s,d));for(var p=o;p<=l;p++){var c=e===p?"active":"";a.push(String.format("<li class='{0}' page='{1}'><a >{2}</a></li>",c,p,p))}a.push(String.format("<li class='{0}' page='{1}'><a > &gt; </a></li>",r,_)),a.push(String.format("<li class='{0}' page='{1}'><a >&gt;&gt;</a></li>",r,n));var h="#"+i.component_id.pagination_ctn_id+" #"+i.component_id.pagination.pageSelect_id;$(h).html(a.join("")),i.___pageNumBindClick(i,h)}},___pageNumBindClick:function(t,i){$(i).children("li").each(function(){$(this).children("a").each(function(){$(this).click(function(){var i=$(this).parent().attr("page"),a=t.__getPageSize();t.__reloadDataTable(a,i)})})})},____fillTablePagination__refresh:function(){var i=this,a=[],t=i.__getTableCols("tbodyCols");if(!__IsEmpty(t)&&!__IsEmpty(t.data)){var n=t.data.pageNumber,e=String.format("<li page='{0}'><a><span class='glyphicon glyphicon-refresh' style='top: 0'></span></a></li>",n);a.push(e);var o="#"+i.component_id.pagination_ctn_id+" #"+i.component_id.pagination.refresh_id;$(o).html(a.join("")),i.___pageNumBindClick(i,o)}},____fillTablePagination__pageSizeSelect:function(){var i=[];i.push("<li><span class='glyphicon glyphicon-list' style='top: 0'></span></li><li><span style='padding: 0;border: 0;'>  <select class='form-control' >    <option>10</option>    <option>20</option>    <option>30</option>    <option>40</option>    <option>50</option>  </select></span></li>");var a="#"+this.component_id.pagination_ctn_id+" #"+this.component_id.pagination.pageSizeSelect_id;$(a).html(i.join(""))},____fillTablePagination__totalItems:function(){var i=[],a=this.__getTableCols("tbodyCols");if(!__IsEmpty(a)&&!__IsEmpty(a.data)){var t=a.data.totalRow,n=a.data.totalPage,e=String.format("<li><span>\u5171{0} \u6761</span></li><li><span>\u5171 {1} \u9875</span></li>",t,n);i.push(e),$("#"+this.component_id.pagination_ctn_id+" #"+this.component_id.pagination.totalItems_id).html(i.join(""))}},____fillTablePagination__gotoPage:function(){var i=[];i.push("<li><span style='padding:6px 3px' >\u5230</span></li><li><span><input type='text' class='form-control' value='1'></span></li><li><span style='padding:6px 3px' >\u9875</span></li>"),$("#"+this.component_id.pagination_ctn_id+" #"+this.component_id.pagination.gotoPage_id).html(i.join(""))},__fillTablePagination:function(){var i=this;i.____fillTablePagination__pageSelect(),i.____fillTablePagination__refresh(),i.____fillTablePagination__pageSizeSelect(),i.____fillTablePagination__totalItems(),i.____fillTablePagination__totalItems(),i.____fillTablePagination__gotoPage()},initPaginationBodyFrame:function(){var i=this,a=[];a.push(String.format("<ul class='pagination pageSelect' id='{0}'></ul>",i.component_id.pagination.pageSelect_id)),a.push(String.format("<ul class='pagination pageRefresh' id='{0}'></ul>",i.component_id.pagination.refresh_id)),a.push(String.format("<ul class='pagination pageSizeSelect' id='{0}'></ul>",i.component_id.pagination.pageSizeSelect_id)),a.push(String.format("<ul class='pagination pageTotalItems' id='{0}'></ul>",i.component_id.pagination.totalItems_id)),a.push(String.format("<ul class='pagination pageGotoPage' id='{0}'></ul>",i.component_id.pagination.gotoPage_id)),$("#"+i.component_id.pagination_ctn_id).html(a.join(""))}});var NavBar=function(i,a){this.id=i,this.nav_bar_header_id=this.id+"-header",this.nav_bar_menu_id=this.id+"-menu",this.nav_bar_footer_id=this.id+"-footer",this.url=a,this.invalid_id="__nav_bar_ignore_id__"};$.extend(NavBar.prototype,{init:function(){this.initHtmlFrame(this),this.initHtml(this)},initHtmlFrame:function(i){var a=[];a.push(String.format("<div id='{0}'></div>",i.nav_bar_header_id)),a.push(String.format("<div id='{0}'></div>",i.nav_bar_menu_id)),a.push(String.format("<div id='{0}'></div>",i.nav_bar_footer_id));var t=a.join("");$("#"+i.id).html(t)},initHtml:function(d){$.ajax({type:"POST",url:d.url,async:!1,cache:!1,dataType:"json",success:function(i){var a=[];if(!__IsEmpty(i)&&!__IsEmpty(i.subMenu)){a.push("<ul>");var t=i.subMenu;d.parents_id=[];for(var n=0;n<t.length;n++){var e=t[n];if(__IsEmpty(e.subMenu))a.push(String.format("<li id='{0}'><div><a href='{1}' class='hover'><span class='nav-bar-left-span {2}'></span> {3}</a></div></li>",e.id,e.url,e.iconClass,e.name));else{a.push(String.format("<li id='{0}'><div class='nav-bar-parent' class=''><span class='nav-bar-left-span {1}'></span> {2} <span class='nav-bar-right-span glyphicon glyphicon-chevron-down'></span></div><ul class='sub-nav-bar none'>",e.id,e.iconClass,e.name));for(var o=e.subMenu,l=0;l<o.length;l++){var s=o[l];a.push(String.format("<li id='{0}'><div><a href='{1}'>{2}</a></div></li>",s.id,s.url,s.name))}a.push("</ul></li>")}}a.push("</ul>");var r=a.join("");$("#"+d.nav_bar_menu_id).html(r),d._bindTabsClick(d)}}})},__clickNodeChange:function(i){i.children("div").each(function(){$(this).hasClass("nav-bar-current")?$(this).removeClass("nav-bar-current"):$(this).addClass("nav-bar-current"),$(this).children(".glyphicon").each(function(){$(this).hasClass("glyphicon-chevron-up")?($(this).removeClass("glyphicon-chevron-up"),$(this).addClass("glyphicon-chevron-down")):$(this).hasClass("glyphicon-chevron-down")&&($(this).removeClass("glyphicon-chevron-down"),$(this).addClass("glyphicon-chevron-up"))})}),i.children("ul").each(function(){$(this).hasClass("display")?$(this).slideUp(function(){$(this).removeClass("display"),$(this).addClass("none")}):$(this).slideDown(function(){$(this).removeClass("none"),$(this).addClass("display")})})},__brotherNodeChange:function(i){i.children("ul").each(function(){$(this).slideUp(function(){$(this).removeClass("display"),$(this).addClass("none")})}),i.children("div").each(function(){$(this).removeClass("nav-bar-current"),$(this).children(".glyphicon").each(function(){$(this).removeClass("glyphicon-chevron-down"),$(this).removeClass("glyphicon-chevron-up"),$(this).addClass("glyphicon-chevron-down")})})},_bindTabsClick:function(n){$("#"+n.nav_bar_menu_id+" ul").children("li").each(function(){$(this).click(function(){var a=this,t=$(a);t.parent("ul").children("li").each(function(){var i=$(this);a===this?n.__clickNodeChange(t):n.__brotherNodeChange(i)})})})},selectMenu:function(i,a,t){if(i.invalid_id===t){var n="#"+i.nav_bar_menu_id+" #"+a+" > div";$(n).addClass("nav-bar-current")}else{var e="#"+i.nav_bar_menu_id+" #"+t+" > div",o=(n="#"+i.nav_bar_menu_id+" #"+a+" > div","#"+i.nav_bar_menu_id+" #"+t+" > ul");$(e).addClass("nav-bar-current"),$(n).addClass("sub-nav-bar-current"),$(o).slideDown(function(){$(this).removeClass("none"),$(this).addClass("display")})}}});var Tree=function(i){this.id=i};$.extend(Tree.prototype,{init:function(){return this}});